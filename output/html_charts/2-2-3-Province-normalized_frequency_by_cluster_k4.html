<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.20.1"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "data": {"name": "data-ec096559f6c9f3ca976a7dbf7855fb1c"}, "mark": {"type": "rect"}, "encoding": {"color": {"field": "Percent", "scale": {"scheme": "reds"}, "title": "% of Provincial NOCs", "type": "quantitative"}, "tooltip": [{"field": "Province", "type": "nominal"}, {"field": "Cluster_Label_k4", "title": "Cluster", "type": "nominal"}, {"field": "NOC_Count", "title": "NOC Count", "type": "quantitative"}, {"field": "Percent", "title": "% of Provincial NOCs", "type": "quantitative"}], "x": {"field": "Cluster_Label_k4", "sort": ["1 - Very Low Wage", "2 - Low Wage", "3 - Mid Wage", "4 - High Wage"], "title": "Cluster (k=4)", "type": "nominal"}, "y": {"field": "Province", "title": "Province", "type": "nominal"}}, "height": 400, "title": "Share of Occupations per Cluster by Province (k=4)", "width": 350, "$schema": "https://vega.github.io/schema/vega-lite/v5.20.1.json", "datasets": {"data-ec096559f6c9f3ca976a7dbf7855fb1c": [{"Province": "Alberta", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 131, "Total_NOC_Province": 327, "Percent": 40.1}, {"Province": "Alberta", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 101, "Total_NOC_Province": 327, "Percent": 30.9}, {"Province": "Alberta", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 68, "Total_NOC_Province": 327, "Percent": 20.8}, {"Province": "Alberta", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 23, "Total_NOC_Province": 327, "Percent": 7.0}, {"Province": "British Columbia", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 122, "Total_NOC_Province": 311, "Percent": 39.2}, {"Province": "British Columbia", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 101, "Total_NOC_Province": 311, "Percent": 32.5}, {"Province": "British Columbia", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 67, "Total_NOC_Province": 311, "Percent": 21.5}, {"Province": "British Columbia", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 21, "Total_NOC_Province": 311, "Percent": 6.8}, {"Province": "Manitoba", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 113, "Total_NOC_Province": 262, "Percent": 43.1}, {"Province": "Manitoba", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 81, "Total_NOC_Province": 262, "Percent": 30.9}, {"Province": "Manitoba", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 53, "Total_NOC_Province": 262, "Percent": 20.2}, {"Province": "Manitoba", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 15, "Total_NOC_Province": 262, "Percent": 5.7}, {"Province": "New Brunswick", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 114, "Total_NOC_Province": 273, "Percent": 41.8}, {"Province": "New Brunswick", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 83, "Total_NOC_Province": 273, "Percent": 30.4}, {"Province": "New Brunswick", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 58, "Total_NOC_Province": 273, "Percent": 21.2}, {"Province": "New Brunswick", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 18, "Total_NOC_Province": 273, "Percent": 6.6}, {"Province": "Newfoundland and Labrador", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 87, "Total_NOC_Province": 219, "Percent": 39.7}, {"Province": "Newfoundland and Labrador", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 69, "Total_NOC_Province": 219, "Percent": 31.5}, {"Province": "Newfoundland and Labrador", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 48, "Total_NOC_Province": 219, "Percent": 21.9}, {"Province": "Newfoundland and Labrador", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 15, "Total_NOC_Province": 219, "Percent": 6.8}, {"Province": "Nova Scotia", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 113, "Total_NOC_Province": 285, "Percent": 39.6}, {"Province": "Nova Scotia", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 90, "Total_NOC_Province": 285, "Percent": 31.6}, {"Province": "Nova Scotia", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 61, "Total_NOC_Province": 285, "Percent": 21.4}, {"Province": "Nova Scotia", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 21, "Total_NOC_Province": 285, "Percent": 7.4}, {"Province": "Ontario", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 156, "Total_NOC_Province": 402, "Percent": 38.8}, {"Province": "Ontario", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 132, "Total_NOC_Province": 402, "Percent": 32.8}, {"Province": "Ontario", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 81, "Total_NOC_Province": 402, "Percent": 20.1}, {"Province": "Ontario", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 33, "Total_NOC_Province": 402, "Percent": 8.2}, {"Province": "Prince Edward Island", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 61, "Total_NOC_Province": 127, "Percent": 48.0}, {"Province": "Prince Edward Island", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 32, "Total_NOC_Province": 127, "Percent": 25.2}, {"Province": "Prince Edward Island", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 25, "Total_NOC_Province": 127, "Percent": 19.7}, {"Province": "Prince Edward Island", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 9, "Total_NOC_Province": 127, "Percent": 7.1}, {"Province": "Quebec", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 155, "Total_NOC_Province": 373, "Percent": 41.6}, {"Province": "Quebec", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 119, "Total_NOC_Province": 373, "Percent": 31.9}, {"Province": "Quebec", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 70, "Total_NOC_Province": 373, "Percent": 18.8}, {"Province": "Quebec", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 27, "Total_NOC_Province": 373, "Percent": 7.2}, {"Province": "Saskatchewan", "Cluster_Label_k4": "1 - Very Low Wage", "NOC_Count": 93, "Total_NOC_Province": 244, "Percent": 38.1}, {"Province": "Saskatchewan", "Cluster_Label_k4": "2 - Low Wage", "NOC_Count": 76, "Total_NOC_Province": 244, "Percent": 31.1}, {"Province": "Saskatchewan", "Cluster_Label_k4": "3 - Mid Wage", "NOC_Count": 59, "Total_NOC_Province": 244, "Percent": 24.2}, {"Province": "Saskatchewan", "Cluster_Label_k4": "4 - High Wage", "NOC_Count": 16, "Total_NOC_Province": 244, "Percent": 6.6}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>